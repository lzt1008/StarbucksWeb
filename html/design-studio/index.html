<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/design-studio.css">
</head>

<body>
    <header id="header">
        <a class="logo" href="https://www.starbucks.com.cn/design-studio/en/">
            <img class="nonie-black" src="https://www.starbucks.com.cn/design-studio/assets/logo.svg" alt="">
        </a>

        <div class="controls">
            <button class="icon trigger wechat-share mobile-hidden">
                <img class="nonie-black" id="ds-wechat-black"
                    src="https://www.starbucks.com.cn/design-studio/assets/icons/icon-wechat.svg" alt="" title="">
            </button>

            <button class="icon search trigger" rel="search-overlay">
                <img class="nonie-black" id="ds-search-box-black"
                    src="https://www.starbucks.com.cn/design-studio/assets/icons/icon-search.svg" alt="" title="">
            </button>


            <button class="icon menu trigger" rel="menu-overlay">
                <img class="nonie-black" id="ds-top-menu-open-black"
                    src="https://www.starbucks.com.cn/design-studio/assets/icons/icon-menu.svg" alt="" title="">
            </button>
        </div>

    </header>
    <div class="store">
        <div class="swipper">
            <div class="image">
                <div class="store-overlay">
                    <span>北京坊旗舰店</span>
                </div>
                <img src="/images/design-img/0.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>深圳海岸城店</span>
                </div>
                <img src="/images/design-img/1.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>天津大悦城店</span>
                </div>
                <img src="/images/design-img/2.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>北京坊旗舰店</span>
                </div>
                <img src="/images/design-img/3.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>深圳海岸城店</span>
                </div>
                <img src="/images/design-img/4.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>天津大悦城店</span>
                </div>
                <img src="/images/design-img/5.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>长沙IFS店</span>
                </div>
                <img src="/images/design-img/6.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>深圳万象天地店</span>
                </div>
                <img src="/images/design-img/7.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>苏州中心旗舰店</span>
                </div>
                <img src="/images/design-img/8.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>北京798店</span>
                </div>
                <img src="/images/design-img/9.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>北京机场十一店</span>
                </div>
                <img src="/images/design-img/10.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>北京嘉里中心店</span>
                </div>
                <img src="/images/design-img/11.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>北京太古里店</span>
                </div>
                <img src="/images/design-img/12.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>成都太古里店</span>
                </div>
                <img src="/images/design-img/13.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>上海企业天地店</span>
                </div>
                <img src="/images/design-img/14.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>广州锦绣香江店</span>
                </div>
                <img src="/images/design-img/15.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>广州中山三路店</span>
                </div>
                <img src="/images/design-img/16.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>杭州国大店</span>
                </div>
                <img src="/images/design-img/17.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>上海迪士尼小镇店</span>
                </div>
                <img src="/images/design-img/18.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>上海思南公馆店</span>
                </div>
                <img src="/images/design-img/19.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>武汉天地店</span>
                </div>
                <img src="/images/design-img/20.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>上海迪士尼小镇店</span>
                </div>
                <img src="/images/design-img/21.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>上海思南公馆店</span>
                </div>
                <img src="/images/design-img/22.jpg" alt="">
            </div>
            <div class="image">
                <div class="store-overlay">
                    <span>武汉天地店</span>
                </div>
                <img src="/images/design-img/23.jpg" alt="">
            </div>
        </div>
        <div class="holder left"></div>
        <div class="holder right"></div>
    </div>
    <div class="inspiration">
        <div class="swipper">
            <div class="image">
                <img src="/images/design-img/img-down/0.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/1.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/2.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/3.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/4.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/5.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/6.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/7.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/8.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/9.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/10.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/11.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/12.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/13.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/14.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/15.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/16.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/17.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/18.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/19.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/20.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/21.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/22.jpg" alt="">
            </div>
            <div class="image">
                <img src="/images/design-img/img-down/23.jpg" alt="">
            </div>
        </div>
        <div class="holder left"></div>
        <div class="holder right"></div>
    </div>
    <footer id="footer">
        <div class="legal">
      <span class="copyright">© 2018 Starbucks Corporation.</span>
      <a class="icp" href="http://www.miitbeian.gov.cn/">沪ICP备17003747号</a>
    </div>
    
      </footer>
    <script>
        var mainSwipper = document.querySelector('.store .swipper')
        var minorSwipper = document.querySelector('.inspiration .swipper')

        //速度 px/s
        var swipeSpeed = 50

        function swipe(swipper, forward = true, speed = 1) {
            var swipperPos = swipper.getBoundingClientRect()
            console.log(Math.abs(forward ? swipperPos.right : swipperPos.left))
            var duration = (Math.abs(forward ? swipperPos.right : swipperPos.left)) / swipeSpeed / speed
            swipper.style.transition = `all ${duration}s linear`
            if (swipper.innerText && forward) {
                swipper.style.transform = `translateX(${-swipperPos.width + window.innerWidth + Math.random()}px)`
            }
            else if (swipper.innerText && !forward) {
                swipper.style.transform = `translateX(${0 - Math.random()}px)`
            }
            else if (!swipper.innerText && forward) {
                swipper.style.transform = `translateX(${swipperPos.width - window.innerWidth - Math.random()}px)`

            }
            else {
                swipper.style.transform = `translateX(${0 + Math.random()}px)`
            }

        }

        var mainLeftHolder = document.querySelector('.store .holder.left')
        var mainRightHolder = document.querySelector('.store .holder.right')
        var minorLeftHolder = document.querySelector('.inspiration .holder.left')
        var minorRightHolder = document.querySelector('.inspiration .holder.right')
        mainSwipper.addEventListener('transitionend',e=>{
            //到尽头
            console.log(e.propertyName)
            if(e.propertyName === 'transform' && mainSwipper.getBoundingClientRect().right - 1 < window.innerWidth){
                mainSwipper.style.transition = 'all 3s ease-in-out'
                mainSwipper.style.transform = 'translateX(0px)'
            }
            else if(e.propertyName === 'transform') {
                swipe(mainSwipper)
            }
        })
        
        minorSwipper.addEventListener('transitionend',e=>{
            //到尽头
            console.log(e.propertyName)
            if(Math.abs(minorSwipper.getBoundingClientRect().left)  < 1){
                minorSwipper.style.transition = 'all 3s ease-in-out'
                minorSwipper.style.transform = 'translateX(0px)'
            }
            else {
                swipe(minorSwipper, true, 0.25)
            }
        })
        mainSwipper.onmouseover = ()=>{
            swipe(mainSwipper, true, 0.5)
        }
        mainSwipper.onmouseout = ()=>{
            swipe(mainSwipper)
        }
        minorSwipper.onmouseover = ()=>{
            swipe(minorSwipper, true, 0.125)
        }
        minorSwipper.onmouseout = ()=>{
            swipe(minorSwipper, true, 0.25)
        }
        mainLeftHolder.onmouseover = () => {
            swipe(mainSwipper, false, 4)
        }
        mainLeftHolder.onmouseout = () => {
            swipe(mainSwipper)
        }
        mainRightHolder.onmouseover = () => {
            swipe(mainSwipper, true, 4)
        }
        mainRightHolder.onmouseout = () => {
            swipe(mainSwipper)
        }
        minorLeftHolder.onmouseover = () => {
            swipe(minorSwipper, false, 4)
        }
        minorLeftHolder.onmouseout = () => {
            swipe(minorSwipper, true, 0.25)
        }
        minorRightHolder.onmouseover = () => {
            swipe(minorSwipper, true, 2)
        }
        minorRightHolder.onmouseout = () => {
            swipe(minorSwipper, true, 0.25)
        }
        window.onload = () => {
            swipe(mainSwipper)
            swipe(minorSwipper, true, 0.25)
        }
    </script>
</body>

</html>